houseIdList.forEach((element) => {
  //alert(element);
  getJson(element);
});

function getJson(houseNum) {
  // Google search keywords: JavaScript get json
  // Reference link: https://stackoverflow.com/questions/12460378/how-to-get-json-from-url-in-javascript
  const url = 'https://anapioficeandfire.com/api/houses/';
  //https://www.anapioficeandfire.com/api/characters/238
  fetch(url + houseNum)
    .then((res) => res.json())
    .then((out) => {
      const { name, currentLord } = out;
      //----------------------------------------------------------
      // temp work
      //----------------------------------------------------------
      //console.log(typeof out);
      //console.log('Checkout this JSON! ', currentLord);
      // document
      //   .getElementById('got-house-list')
      //   .append(
      //     `<div class="got-house"><h1 class="got-house__title">${name}</h1><span class="got-house__current-lord">${currentLord}</span>`,
      //   );
      //-------------------------------------------------------------
      // temp work
      //-------------------------------------------------------------
      // Google search keywords: javascript create dom
      // Reference link: https://www.javascripttutorial.net/dom/manipulating/create-a-dom-element/
      const houseDiv = document.createElement('div');
      houseDiv.classList.add('got-house');
      const houseTitleH1 = document.createElement('h1');
      houseTitleH1.classList.add('got-house__title');
      houseTitleH1.innerHTML = `${name}`;
      houseDiv.appendChild(houseTitleH1);
      const lordNameStr = getCurrentLord(currentLord.replace('www.', ''));
      const lordNameSpan = document.createElement('span');
      lordNameSpan.classList.add('got-house__current-lord');
      lordNameSpan.innerHTML = lordNameStr;
      houseDiv.appendChild(lordNameSpan);
      document.getElementById('got-house-list').appendChild(houseDiv);
    })
    .catch((err) => {
      throw err;
    });
}

function getCurrentLord(lordUrl) {
  console.log(lordUrl);
  fetch(lordUrl)
    .then((res) => res.json())
    .then((out) => {
      const { name } = out;
      console.log('Checkout this JSON! ', name);
      return name;
    })
    .catch((err) => {
      throw err;
    });
}
